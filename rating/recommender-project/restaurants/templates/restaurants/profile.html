{% extends 'restaurants/base.html' %}

{% block title%}My Ratings{%endblock%} 

{% block content %} 

<!--NEEDS TO BE UPDATED TO INCLUDE LINK TO MY RATINGS, RECS, AND LUNCH BUDDIES-->
<!-- ADD NUMBER OF REVIEWS, DISPLAY TOP 3 RATED / MOST RECENT? -->
<h1>Hello, {{user}}</h1>
<h2>You have {{ratingCount}} reviews so far...</h2>
<h2>Average: {{ratingAvg|floatformat:1}} - Max: {{ratingMax}} - Min: {{ratingMin}}</h2>
<table class="table table-striped table-sm" style="width:500px;">
    <thead class="thead-light">
      <tr>
        <th scope="col" style="width:200px;">Restaurant</th>
        <th scope="col" style="width:150px;">Rating</th>
        <th scope="col" style="width:150px;">Update</th>
      </tr>
    </thead>
    <tbody>
      {% for rating in ratings %}
      <tr>
        <th scope="row">{{rating.restaurant}}</th>
        <td>{{rating.rating}}</td>
        <td>
          <a
            class="btn btn-outline-primary"
            href="{% url 'update-rating' rating.id %}">Edit</a>
          <a
            class="btn btn-outline-danger"
            href="{% url 'delete-rating' rating.id %}">Delete</a>
        </td>
      </tr>
      {% endfor %}
    </tbody>

    <h1><a class="btn darkBlue btn-lg" href="{% url 'addrating' %}">Add Review</a></h1>
    
  </table>
{% endblock %}